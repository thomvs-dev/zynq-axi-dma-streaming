# Zynq AXI DMA Streaming Subsystem

## Overview

This repository contains a **Vivado IP Integrator–based Zynq-7000 design** that implements a complete **DDR ⇄ AXI DMA ⇄ AXI-Stream ⇄ AXI DMA ⇄ DDR** data path. The design is intended as a **reference streaming subsystem** that can be directly used for FPGA-based acceleration, high-throughput data movement, or prototyping custom AXI-Stream processing IP.

The system is fully controlled by the Zynq Processing System (PS) and uses industry-standard AXI interfaces for control, memory access, and streaming data transfer.

---

## Key Features

* Zynq-7000 Processing System with DDR memory interface
* AXI DMA with:

  * MM2S (Memory-to-Stream)
  * S2MM (Stream-to-Memory)
  * Scatter-Gather support
* AXI-Stream Data FIFO for buffering and rate decoupling
* AXI SmartConnect fabrics for clean control and data routing
* PS-driven clocking and reset architecture
* Interrupt-based DMA completion signaling
* Accelerator-ready AXI-Stream insertion point

---

## System Architecture

### High-Level Data Flow

```
DDR Memory
   ⇅
AXI DMA (MM2S / S2MM)
   ⇅ AXI-Stream
AXI-Stream Data FIFO
   ⇅ AXI-Stream
AXI DMA
   ⇅
DDR Memory
```

The Processing System configures and controls all transfers, while the Programmable Logic performs high-throughput streaming operations.

<img width="1788" height="783" alt="image" src="https://github.com/user-attachments/assets/415c39d7-6e8b-4af0-b504-9b0c6a87bd69" />


---

## Major IP Blocks

### 1. Processing System (PS)

* Provides ARM Cortex-A9 processing
* Hosts the DDR memory controller
* Generates PL clocks (FCLK_CLK0)
* Supplies system resets
* Controls peripherals via AXI GP port
* Receives DMA interrupts

### 2. AXI DMA

* Handles bulk data movement between DDR and AXI-Stream
* Supports both simple and scatter-gather modes
* Uses AXI4 for memory-mapped transfers
* Uses AXI-Stream for PL-side data flow
* Interrupt-driven completion signaling

### 3. AXI-Stream Data FIFO

* Buffers streaming data
* Absorbs back-pressure
* Decouples DDR burst behavior from stream timing
* Enables clean insertion of custom stream-processing IP

### 4. AXI SmartConnect (Control Plane)

* Routes AXI-Lite transactions
* Connects PS GP0 port to AXI DMA control interface
* Used for register access and configuration

### 5. AXI SmartConnect (Data Plane)

* Routes high-bandwidth AXI4 traffic
* Connects AXI DMA master ports to PS HP0 port
* Optimized for burst and throughput

### 6. Reset Controller

* Generates synchronized resets for PL peripherals
* Driven by PS reset outputs

---

## AXI Interface Usage

| Interface  | Purpose                                |
| ---------- | -------------------------------------- |
| AXI GP0    | DMA configuration and status registers |
| AXI HP0    | High-bandwidth DDR access for DMA      |
| AXI-Stream | Streaming data between DMA and FIFO    |

This separation ensures deterministic control behavior and maximum data throughput.

---

## Clocking and Reset Strategy

* Single clock domain derived from PS (FCLK_CLK0)
* All PL IP operates synchronously
* Reset generated by PS and synchronized via reset controller

This avoids clock-domain crossings and simplifies timing closure.

---

## Interrupt Handling

* MM2S and S2MM DMA interrupts are concatenated
* Routed to the PS via IRQ_F2P
* Enables software-driven transfer completion, error handling, and chaining

---

## Typical Use Cases

* FPGA-based signal and image processing
* Streaming DSP pipelines
* Hardware accelerator prototyping
* Memory-to-stream benchmarking
* Custom AXI-Stream IP integration

---

## Extending the Design

To integrate a custom accelerator:

1. Insert the custom AXI-Stream IP between the FIFO and DMA
2. Preserve AXI-Stream handshake signals (TVALID, TREADY, TLAST)
3. Reuse the existing DMA and PS software stack

No changes to DDR, DMA control, or PS configuration are required.

---

## Build Information

* Tool: Vivado 2025.1.1
* Target: Zynq-7000 SoC
* Design Methodology: IP Integrator (Block Design)
* Output: Generated structural Verilog netlist

---

## Summary

This project provides a **clean, modular, and extensible Zynq AXI DMA streaming platform**. It is suitable both as a learning reference for AXI-based system design and as a production-ready starting point for FPGA-accelerated applications.

---

## License

This project follows the licensing terms applicable to Xilinx/AMD IP cores generated by Vivado. User logic and integration code may be licensed separately as required.
